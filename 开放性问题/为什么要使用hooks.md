# 使用Hooks的动机
## 在组件之间复用逻辑很难
react中一般使用高阶组件或者状态提升来完成状态逻辑复用。这些方法通常需要更改组件的结构，而Hooks可以在不修改组件结构的情况下复用逻辑状态(利用自定义hook完成)。

比如，多个组件中对于某一个状态的处理逻辑是一样的。传统的方法是把这个状态提升到公共的父组件来处理，或者在高阶组件中处理以及已经废弃的mixin方式。而在hooks中，我们可以自定义一个hook。各组件中use这个hook即可达到复用的效果。无需更改组件结构，扁平化处理问题。

## 复杂组件变的难以理解
在传统的react中，通常需要在`componentDidMount`中设置监听，而在`componentWillUnmount`中移除监听。这种相互关联的逻辑，代码却分布于不同地方。而`componentDidMount`中还会有很多其他相互独立的逻辑。而代码却放在一起。这种代码的组合方式，容易产生bug，且为组件的继续拆分带来障碍。因为相关的逻辑代码比较分散。

`useEffect`这个hook，就可以很方便的将组件中相互关联的部分拆分成更小的函数。而不用按照生命周期强行划分。

## 难以理解的class
使用class组件，开发者需要理解class的一些特性，同时需要理解this,事件绑定等问题。除此之外当前的工具对class的压缩不太好。

而hooks使你在非class的情况下使用react的一些特性。更趋近于函数式编程。

# hooks的使用规则
- 只能在函数最外层调用hook。不能再循环或者条件语句中使用。（内部是一个数组，容易错位）；
- 只能在react函数或者自动以hook中使用hook.不能再其他js函数中使用。

参考文献：
- https://react.docschina.org/docs/hooks-intro.html